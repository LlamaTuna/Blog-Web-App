<!--article.ejs-->
<!-- Start of the form container -->
<div class="form-container">
  <!-- Display the article text -->
  <p class="article-body"><%= article.text %></p>

  <!-- Like button for the article. On click, it sends a POST request to the server to like the article -->
  <button class="btn btn-primary" id="likeBtn" data-action="/reader/article/<%= article.article_id %>/like" data-article-id="<%= article.article_id %>">
    <span class="bi bi-hand-thumbs-up"></span> Like (<span id="likeCount"><%= article.likes_count %></span>)
  </button>
  
<!-- Go back button. On click, it takes the user to the previous page -->
<button id="backButton" class="btn btn-primary go-back-button">Go Back</button>
  
  <!-- Display the comments header -->
  <h3 class="article-h3">Comments</h3>
  
  <!-- Loop through each comment and display it -->
  <% comments.forEach((comment) => { %>
    <div class="comment-box">
      <strong><%= comment.commenter_name %> (<%= comment.comment_date %>)</strong>: <%= comment.comment_body %>
    </div>
  <% }) %>

  <!-- Form for posting a new comment. On submit, it sends a POST request to the server to create a new comment -->
  <form method="POST" action="/reader/article/<%= article.article_id %>/comment">
    <div class="form-group">
      <label for="commenterName">Name:</label>
      <input type="text" class="form-control" id="commenterName" name="commenterName" required>
    </div>
    <div class="form-group">
      <label for="commentBody">Comment:</label>
      <textarea class="form-control" id="commentBody" name="commentBody" rows="3" required></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Post Comment</button>
  </form>
</div>

<!-- JavaScript function for the go back button -->
<script>
function goBack() {
  window.history.back();
}
</script>

<!-- Include the article.js script -->
<script src="/article.js"></script>
